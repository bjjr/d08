- The lessor/s whose ratio of requested versus approved request/s is the maximum or the minimum. (Ratios must be rounded to one decimal place)

select l from Lessor l left join l.properties p left join p.books b where b.status.name = 'ACCEPTED' order by b asc;
select l from Lessor l left join l.properties p left join p.books b where b.status.name = 'ACCEPTED' order by b desc;


- The tenant/s whose ratio of requested versus approved request/s is the maximum or the minimum. (Ratios must be rounded to one decimal place)

select t from Tenant t left join t.books b where b.status.name = 'ACCEPTED' order by b asc;
select t from Tenant t left join t.books b where b.status.name = 'ACCEPTED' order by b desc;


- The average, the minimum, and the maximum number of results per finder

select avg(b.property), max(b.property), min(b.property) from Tenant t left join t.books b where t.finder.keyword like b.property.name or t.finder.keyword like b.property.description or t.finder.keyword like b.property.address;
